#include "task7.h"
#include <stdio.h>

void place(int x, int y)
{
	int buf[9][29] = { {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
				   {1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1},
				   {1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1},
				   {1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,0,0,1,1,1},
				   {1,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
				   {1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1},
				   {1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1},
				   {0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1},
				   {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1} };
	int i = 2;
	buf[x][y] = 2;
	int(*arr)[29] = buf;
	
	while (i < 99)
	{
		x = 0;
		while (x < 9)
		{
			y = 0;
			while (y < 28)
			{
				if (buf[x][y] == i)
				{
					if (buf[x][y + 1] == 0 && y == 26)
					{
						buf[x][y + 1] = 100;
						q(arr, x, y + 1, i + 1);
						x = 99, i = 99;
						break;
					}
					if (buf[x][y - 1] == 0 && y == 1)
					{
						buf[x][y - 1] = 100;
						q(arr, x, y - 1, i + 1);
						x = 99, i = 99;
						break;
					}
					if (buf[x + 1][y] == 0 && x == 7)
					{
						buf[x + 1][y] = 100;
						q(arr, x + 1, y, i + 1);
						x = 99, i = 99;
						break;
					}
					if (buf[x - 1][y] == 0 && x == 1)
					{
						buf[x - 1][y] = 100;
						q(arr, x - 1, y, i + 1);
						x = 99, i = 99;
						break;
					}
					
					
					if (buf[x + 1][y] == 0)
						buf[x + 1][y] = i + 1;
					if (buf[x - 1][y] == 0)
						buf[x - 1][y] = i + 1;
					if (buf[x][y + 1] == 0)
						buf[x][y + 1] = i + 1;
					if (buf[x][y - 1] == 0)
						buf[x][y - 1] = i + 1;
				}
				y++;
			}
			x++;
		}
		i++;
	}

	

	for (x = 0; x < 9; x++)
	{
		y = 0;
		while (y < 28)
		{
			if ((buf[x][y] == 100) || (buf[x][y] == 2))
				buf[x][y] = 1;
			else if (buf[x][y] == 1)
				buf[x][y] = 42;
			else buf[x][y] = 0;
			y++;
		}
			
	}
	
	for (x = 0; x < 9; x++)
	{
		y = 0;
		while (y < 28)
			printf("%c ", buf[x][y]), y++;
		printf("\n");
	}
}

void q(int(*arr)[29], int x, int y, int i)
{
	while (arr[x][y] != 2)
	{
		if (arr[x + 1][y] == i - 1)
		{
			arr[x][y] = 100;
			x++;
		}
		else if (arr[x - 1][y] == i - 1)
		{
			arr[x][y] = 100;
			x--;
		}
		else if (arr[x][y + 1] == i - 1)
		{
			arr[x][y] = 100;
			y++;
		}
		else if (arr[x][y - 1] == i - 1)
		{
			arr[x][y] = 100;
			y--;
		}
		i--;
	}
}